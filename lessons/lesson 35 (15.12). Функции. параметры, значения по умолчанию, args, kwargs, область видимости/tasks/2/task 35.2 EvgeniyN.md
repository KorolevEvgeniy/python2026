# Практическое задание 35.2

## Задания

### Описание задачи
В предыдущем блоке вы научились объявлять функции, передавать аргументы и возвращать результаты. Теперь мы переходим к управлению аргументами. Этот блок посвящен безопасному использованию значений по умолчанию для параметров, включая работу с изменяемыми типами данных, а также закреплению правил порядка передачи позиционных и именованных аргументов. Упражнение подводит к пониманию, как избежать распространенной ошибки с общим изменяемым объектом и как правильно читать и писать вызовы функций с разными способами передачи данных.

Вы разрабатываете модуль для управления настройками пользовательского интерфейса. Каждый пользователь может иметь свой набор виджетов (например, "часы", "погода", "новости") и параметры их отображения. Некоторые настройки являются общими для всех пользователей по умолчанию, но их можно переопределить.

Ваша задача — реализовать функцию `update_widget_settings`, которая обновляет конфигурацию виджета для конкретного пользователя. Функция должна учитывать порядок аргументов, использовать значения по умолчанию и безопасно работать с изменяемыми коллекциями.

**Требования к функции:**
1.  Функция принимает следующие параметры (в указанном порядке):
    *   `user_id` (обязательный, позиционный) — идентификатор пользователя (строка или число).
    *   `widget_name` (обязательный, позиционный) — название виджета (строка).
    *   `is_active` (опциональный, именованный) — флаг активности виджета. По умолчанию `True`.
    *   `position` (опциональный, именованный) — позиция на экране (кортеж из двух чисел `(x, y)`). По умолчанию `(0, 0)`.
    *   `custom_colors` (опциональный, именованный) — список пользовательских цветов для виджета. По умолчанию должен использоваться безопасный паттерн, чтобы избежать неожиданного накопления цветов между вызовами.
2.  Функция возвращает словарь с полной конфигурацией виджета для переданного пользователя. Структура словаря: `{"user_id": ..., "widget": ..., "is_active": ..., "position": ..., "colors": ...}`.
3.  Если параметр `custom_colors` не передан, в конфигурации должен использоваться список `["синий", "белый"]` по умолчанию. **Важно:** этот список по умолчанию не должен изменяться между вызовами функции для разных пользователей или виджетов.
4.  Продемонстрируйте правильный и неправильный способы вызова функции, используя позиционные и именованные аргументы.

### Пример входных и выходных данных

**Пример 1: Все параметры переданы явно.**
```python
# Вызов функции
config1 = update_widget_settings(42, "часы", is_active=False, position=(100, 50), custom_colors=["красный", "черный"])
print(config1)
```
**Ожидаемый вывод:**
```python
{
    'user_id': 42,
    'widget': 'часы',
    'is_active': False,
    'position': (100, 50),
    'colors': ['красный', 'черный']
}
```
**Пояснение:** Все аргументы, кроме обязательных позиционных, переданы по имени. Значение по умолчанию для `custom_colors` не использовалось.

**Пример 2: Использование значений по умолчанию.**
```python
# Вызов функции (используются значения по умолчанию для is_active, position и custom_colors)
config2 = update_widget_settings("user_001", "погода")
print(config2)
```
**Ожидаемый вывод:**
```python
{
    'user_id': 'user_001',
    'widget': 'погода',
    'is_active': True,
    'position': (0, 0),
    'colors': ['синий', 'белый']
}
```
**Пояснение:** Переданы только обязательные позиционные аргументы. Остальные параметры взяты из значений по умолчанию. Обратите внимание, что список `colors` — это новый список `["синий", "белый"]`, а не ссылка на какой-то общий объект.

**Пример 3: Смешанная передача аргументов (позиционные + именованные).**
```python
# Вызов функции
config3 = update_widget_settings(15, "новости", position=(200, 30))
print(config3)
```
**Ожидаемый вывод:**
```python
{
    'user_id': 15,
    'widget': 'новости',
    'is_active': True,  # Значение по умолчанию
    'position': (200, 30),
    'colors': ['синий', 'белый']  # Значение по умолчанию
}
```
**Пояснение:** После обязательных позиционных аргументов передан один именованный аргумент `position`. Параметры `is_active` и `custom_colors` используют значения по умолчанию.

**Пример 4: Некорректный вызов (для осмысления ошибки).**
```python
# НЕПРАВИЛЬНО: именованный аргумент перед позиционным
update_widget_settings(user_id=99, "календарь")  # Вызовет SyntaxError
```
**Пояснение:** В вызове функции все позиционные аргументы должны идти перед именованными.

### Критерии проверки и ограничения
1.  Функция должна строго соблюдать порядок параметров: `user_id`, `widget_name`, `is_active`, `position`, `custom_colors`.
2.  Для параметра `custom_colors` необходимо реализовать безопасный паттерн с использованием `None` в качестве значения по умолчанию, чтобы каждый вызов функции, где этот параметр не указан, получал новый список `["синий", "белый"]`.
3.  В решении **нельзя** использовать:
    *   `*args` или `**kwargs`.
    *   Распаковку коллекций при вызове.
    *   Концепции области видимости, отличные от локальных переменных функции.
    *   Глобальные переменные или оператор `global`.
4.  Код должен быть читаемым и соответствовать базовым соглашениям PEP 8.

### Решение задачи (псевдокод)
1.  Объяви функцию `update_widget_settings` с параметрами: `user_id`, `widget_name`, `is_active=True`, `position=(0, 0)`, `custom_colors=None`.
2.  Внутри функции:
    a.  Создай пустой словарь `config` для результата.
    b.  Добавь в `config` пары ключ-значение для `user_id` и `widget_name`.
    c.  Добавь в `config` значение для `is_active`.
    d.  Добавь в `config` значение для `position`.
    e.  Проверь, равен ли параметр `custom_colors` значению `None`:
        *   Если ДА, создай новый список `default_colors` со значениями `["синий", "белый"]` и добавь его в `config` по ключу `"colors"`.
        *   Если НЕТ, добавь переданный список `custom_colors` в `config` по ключу `"colors"`.
3.  Верни словарь `config` из функции.

### Рекомендации
-   Вынести в отдельную функцию: В данном случае логика достаточно проста и сосредоточена в одной операции. Создание отдельной функции не требуется. Однако, если бы логика проверки и создания списка цветов по умолчанию была сложнее (например, включала чтение из файла), её стоило бы вынести.
-   PEP8:
    -   Используйте пробелы вокруг оператора присваивания `=` при указании значений по умолчанию для параметров: `def func(param=default):`.
    -   Названия функций должны быть в `snake_case`: `update_widget_settings`.
