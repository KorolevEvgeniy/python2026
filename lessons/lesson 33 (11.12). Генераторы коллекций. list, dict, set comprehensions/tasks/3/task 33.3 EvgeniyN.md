# Задание 33.3. Генераторы коллекций. list, dict, set comprehensions

## Блок урока
«Dict comprehensions» демонстрирует. как переупаковать сложные структуры данных в словари с вычисляемыми значениями без дополнительных циклов.

## Условие задачи
**Сложность**: <span style="color: #c62828">● сложный</span>. примерное время: 15–20 минут

Есть список `hubs`, где каждый элемент — словарь с ключами `"name"`, `"streams"` и `"capacity"`. Поле `"streams"` содержит список словарей `{ "title": str, "viewers": int }`. Построй одним dict comprehension словарь `hub_load`, в котором ключ — название хаба, а значение — коэффициент загрузки вида `среднее_зрителей_на_поток / capacity`, округлённый до одного знака. Добавляй в словарь только те хабы, у которых есть хотя бы два потока.

## Пример входных данных
```
hubs = [
    {
        "name": "DevHub",
        "capacity": 200,
        "streams": [
            {"title": "Python", "viewers": 120},
            {"title": "Go", "viewers": 80}
        ]
    },
    {
        "name": "DataHub",
        "capacity": 150,
        "streams": [
            {"title": "ML", "viewers": 90}
        ]
    },
    {
        "name": "AsyncHub",
        "capacity": 180,
        "streams": [
            {"title": "Asyncio", "viewers": 130},
            {"title": "Trio", "viewers": 100},
            {"title": "AnyIO", "viewers": 70}
        ]
    }
]
```

## Пример выходных данных
```
{'DevHub': 1.0, 'AsyncHub': 1.7}
```

## Критерии успешного выполнения
- Использован один dict comprehension без дополнительных циклов снаружи.
- В словарь попадают только хабы с двумя и более потоками.
- Коэффициент загрузки округляется до одного знака методом `round(value, 1)`.
- Исходный список `hubs` остаётся неизменным.

## Подсказки
- Сначала получи среднее число зрителей через `sum(...) / len(streams)`.
- Следи за тем. чтобы деление выполнялось в `float` и только потом округлялось.

## Частые ошибки и ограничения
- Нельзя дублировать ключи. берётся только `hub["name"]`.
- Не модифицируй вложенные списки `streams`.
- Избегай громоздких выражений. при необходимости вынеси вычисление в переменные перед comprehension.
